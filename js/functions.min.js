function _ge(a){return document.getElementById(a)}function _add_event(elem,evname,func){elem.attachEvent?eval("elem.on"+evname+"=func;"):elem.addEventListener(evname,func,!1)}function delEvent(elem,evname,func){elem.attachEvent?eval("elem.on"+evname+"=null;"):elem.removeEventListener(evname,func,!1)}function getLeft(a){for(var b=a.offsetLeft;a=a.offsetParent;)b+=a.offsetLeft;return b}function getTop(a){for(var b=a.offsetTop;a=a.offsetParent;)b+=a.offsetTop;return b}function _get_left(a){for(var b=a.offsetLeft;a=a.offsetParent;)b+=a.offsetLeft;return b}function _get_top(a){for(var b=a.offsetTop;a=a.offsetParent;)b+=a.offsetTop;return b}function str_kill_ending(a){for(var c,d,b=a.split(/[\s]+/),e=0;e<b.length;e++){d=b[e];for(var f=0;f<disearch_endings_ar.length;f++)if(c=d.length-disearch_endings_ar[f].length,d.length>disearch_min_word_length&&disearch_endings_ar[f]==d.substr(c,d.length)){d=d.substr(0,c);break}b[e]=d}return b.join(" ")}function getHTTPRequestObject(){var a=!1;if("undefined"!=typeof ActiveXObject){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}if(!a)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}}else a="undefined"!=typeof XMLHttpRequest&&new XMLHttpRequest;return a}function check_correct_latin_symbols(a){return __correct_latin_symbols_regexp.test(a)}function check_correct_digits(a){return __correct_digits_regexp.test(a)}function check_correct_email(a){return __correct_email_regexp.test(a)}function mysprintf(a,b){var c=Math.pow(10,b);a=Math.round(a*c)/c;var d=a.toString().split(".");for(d[1]||(d[1]="");d[1].length<b;)d[1]+="0";return d[0]+"."+d[1]}function get_screen_dimensions(a){var b,c;switch("undefined"!=typeof window.innerWidth?(b=window.innerWidth,c=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(b=document.documentElement.clientWidth,c=document.documentElement.clientHeight):(b=document.getElementsByTagName("body")[0].clientWidth,c=document.getElementsByTagName("body")[0].clientHeight),a){case"x":case"w":return b;case"y":case"h":return c;default:return[b,c]}}function set_as_homepage(a){var b=window.location.href;return a.style.behavior&&a.setHomePage(b),!1}function add_to_bookmarks(a){var b=window.document.location,c=window.document.title;if(is_ie4up)window.external.AddFavorite(b,c);else{if(is_opera)return a.href=b,a.rel="sidebar",a.title=c,!0;is_gecko?window.sidebar.addPanel(c,b,""):alert("Нажмите CTRL-D, чтобы добавить страницу в закладки.")}return!1}function lead0(a){return a+="",1==a.length?"0"+a:a}function str_cut_end(a,b){var c=arguments[2]||"...";return a.length>b&&(a=a.substr(0,b-c.length)+c),a}function arrayKeys(a){var b=[],c=0;for(i in a)a.hasOwnProperty(i)&&(b[c++]=i);return b}function arraySum(a){var b,c=0;if(a&&"object"==typeof a&&a.change_key_case)return a.sum.apply(a,Array.prototype.slice.call(arguments,0));if("object"!=typeof a)return null;for(b in a)a.hasOwnProperty(b)&&(isNaN(parseFloat(a[b]))||(c+=parseFloat(a[b])));return c}function array_sum(a){return arraySum(a)}function array_count(a){return arrayCount(a)}function arrayCount(a){var b=0;if(a&&"object"==typeof a&&a.change_key_case)return a.length;if("object"!=typeof a)return null;for(var c in a)a.hasOwnProperty(c)&&b++;return b}function arrayFlip(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[a[b]]=b);return c}function shuffle(a){for(var b=a.length-1;b>0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c],a[c]=d}return a}function in_array(a,b){var c=b.length;if(c>0)do if(b[c]==a)return!0;while(c--);return!1}function is_array(a){return di.isArray(a)}function index_of(a,b){for(i in b)if(b[i]==a)return i;return-1}function ar_indexOf(a,b){var c=b.length,d=Number(arguments[1])||0;d=d<0?Math.ceil(d):Math.floor(d),d<0&&(d+=c);for(var e in b)if(b[e]==a)return e;return-1}function _ge_inputs(){for(var a=!("undefined"==typeof arguments[0]||!arguments[0])&&arguments[0],b="undefined"!=typeof arguments[1]&&arguments[1]?arguments[1]:document,c=!("undefined"==typeof arguments[2]||!arguments[2])&&arguments[2],d=!("undefined"==typeof arguments[3]||!arguments[3])&&arguments[3],e=b.getElementsByTagName("input"),f=[],g=0;g<e.length;g++){if(c){if("object"==typeof c&&!c.test(e[g].id))continue;if("string"==typeof c&&e[g].id.substr(0,c.length)!=c)continue}(!a||a&&e[g].type==a)&&(!d||d&&e[g].checked)&&f.push(e[g])}return f}function get_xml_text(a){var b=a.firstChild;return!("undefined"==typeof b||!b)&&("undefined"!=typeof b.nodeValue&&b.nodeValue?b.nodeValue:"undefined"!=typeof b.textContent&&b.textContent?b.textContent:"")}function di_xml2array(a){var b=a.firstChild,c=[];do c[b.nodeName]=get_xml_text(b);while(b=b.nextSibling);return c}function divide3dig(a,b){if("undefined"==typeof b)var b=",";a=a.toString();var c=a.indexOf("."),d=c!=-1?a.substr(c):"";a=c!=-1?a.substr(0,c):a;for(var h,e="",f=a.length-3,g=Math.ceil(a.length/3),i=0;i<g;i++)h=3,f<0&&(h+=f,f=0),e=a.substr(f,h)+b+e,f-=3;return e=e.substr(0,e.length-b.length),e+d}function array_splice(a,b,c,d){var e=function(a,b,c){if(void 0!==a[b]){var d=b;b+=1,b===c&&(b+=1),b=e(a,b,c),a[b]=a[d],delete a[d]}return b};if(d&&"object"!=typeof d&&(d=[d]),void 0===c?c=b>=0?a.length-b:-b:c<0&&(c=(b>=0?a.length-b:-b)+c),!(a instanceof Array)){var f=0,g=-1,h=[],i={},j=-1,k=-1,l=!0,m=0,n=0,o="";for(o in a)f+=1;b=b>=0?b:f+b;for(o in a)if(g+=1,g<b){if(this.is_int(o)){if(k+=1,parseInt(o,10)===k)continue;e(a,k,o),a[k]=a[o],delete a[o]}}else l&&this.is_int(o)?(h.push(a[o]),i[m++]=a[o]):(i[o]=a[o],l=!1),n+=1,d&&d[++j]?a[o]=d[j]:delete a[o];return l?h:i}return d?(d.unshift(b,c),Array.prototype.splice.apply(a,d)):a.splice(b,c)}function isleapyear(a){return a%4==0&&a%100!=0||a%400==0}function get_wd(a){return a.getDay()||7}function get_yday(a){return a&&"object"==typeof a?Math.floor((a-new Date(a.getFullYear(),0,1))/864e5):0}function get_big_yday(a,b){if("undefined"==typeof b){if(!a||"object"!=typeof a)return 0;b=get_yday(a),a=a.getFullYear()}for(b+="";b.length<3;)b="0"+b;return 1*(a+""+b)}function get_time(a){return a&&"object"==typeof a?Math.round(a.getTime()/1e3):0}function parse_uri_params(a,b,c,d){a=a||window.location.href,b=b||"#";var e={};if(a.indexOf(b)>-1){a=a.substr(a.indexOf(b)+1),"?"==b&&a.indexOf("#")>-1&&(a=a.substr(0,a.indexOf("#")));for(var f=a.split(c||"&"),g=0;g<f.length;g++){var h=f[g].split(d||"=");e[h[0]]=h[1]}}return e}function serialize_uri(a){var b=kill_uri_params("",[],a);return b?b.substr(1):b}function kill_uri_params(a,b,c){"string"==typeof b&&(b=[b]),c=c||[];for(var d=a.indexOf("?"),e=d==-1?a:a.substr(0,d),f=parse_uri_params(a,"?"),g=[],h=[],i=0;i<f.length;i++)in_array(i,b)?"undefined"!=typeof c[i]&&(g.push(i+"="+c[i]),h.push(i)):g.push(i+"="+f[i]);for(i=0;i<c.length;i++)in_array(i,h)||g.push(i+"="+c[i]);return e+(g.length?"?"+g.join("&"):"")}function getScrollXY(){var a=0,b=0;return"number"==typeof window.pageYOffset?(b=window.pageYOffset,a=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(b=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft),[a,b]}function check_ctrl_enter(a,b){a||(a=window.event),13!=a.keyCode&&10!=a.keyCode||1!=a.ctrlKey||("function"==typeof b.onsubmit?b.onsubmit():b.submit())}function trim(a){return di.trim(a)}function ltrim(a){return di.ltrim(a)}function rtrim(a){return di.rtrim(a)}function strip_tags(a,b){b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var c=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,d=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return a.replace(d,"").replace(c,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""})}function urlencode(a){return encodeURIComponent(a)}function urldecode(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))}function size_in_bytes(a,b,c,d){return b=b||"Mb",c=c||"kb",d=d||"bytes",a>1048576?Math.round(10*a/1048576)/10+b:a>1024?Math.round(10*a/1024)/10+c:a+d}function from_size_in_bytes(a){var b={bytes:1,"байт":1,kb:1024,"кб":1024,mb:1048576,"мб":1048576};a=trim(a).toLowerCase();for(var c in b)if(a.substr(-c.length)==c){a=trim(a.substr(0,a.length-c.length)),a=a.replace(",","."),a*=b[c];break}return a}function get_cursor_position(a){if(a.selectionStart)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange();if(null==b)return 0;var c=a.createTextRange(),d=c.duplicate();return c.moveToBookmark(b.getBookmark()),d.setEndPoint("EndToStart",c),d.text.length}return 0}function set_cursor_position(a,b){if(a.createTextRange){var c=a.createTextRange();c.move("character",b),c.select()}else a.selectionStart?(a.focus(),a.setSelectionRange(b,b)):a.focus()}function digit_case(a,b,c,d,e){if("undefined"==typeof d)var d=!1;if("undefined"==typeof e)var e=!1;return d===!1&&(d=c),a%10==1&&11!=a?e?b:a+" "+b:a%10>=2&&a%10<=4&&12!=a&&13!=a&&14!=a?e?c:a+" "+c:e?d:a+" "+d}function has_class(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function add_class(a,b){has_class(a,b)||(a.className+=" "+b)}function remove_class(a,b){if(has_class(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}}function get_date_for_cookie(){var a=new Date;return a.setFullYear(a.getFullYear()+1),a}function get_domain_for_cookie(){var a=window.location.host;return"www."==a.substr(0,4)&&(a=a.substr(4)),"."+a}function basename(a,b){var c=a.lastIndexOf("/");c==-1&&(c=a.lastIndexOf("\\"));var d=new String(a).substring(c+1);return"string"==typeof b&&d.substr(d.length-b.length)==b&&(d=d.substr(0,d.length-b.length)),d}function dirname(a){var b=a.lastIndexOf("/");return b==-1&&(b=a.lastIndexOf("\\")),b!=-1?new String(a).substring(0,b):a}function get_file_ext(a){return a.split(".").pop()}function highlight(a,b,c){var d=a.innerHTML,e=new RegExp("(>[^<.]*)("+b+")([^<.]*)","g"),f="$1<span "+(c?'class="'+c+'"':"")+'">$2</span>$3',g=d.replace(e,f);return(a.innerHTML=g)!==d}function get_age(a,b,c){var d=new Date,e=lead0(d.getMonth()+1)+lead0(d.getDate());return c?d.getFullYear()-c-(e<lead0(b)+lead0(a)?1:0):0}function print_r(a,b){var c="";b||(b=0);for(var d="",e=0;e<b+1;e++)d+="    ";if("object"==typeof a){for(var f in a){var g=a[f];"object"==typeof g?(c+=d+"'"+f+"' :\n",c+=print_r(g,b+1)):c+=d+"'"+f+"' => \""+g+'"\n'}c=c?d+"{\n"+c+"\n"+d+"}":"{}"}else c=d+"("+typeof a+")"+a;return c}function goto(a){window.location.href=a}function goto_new(a){window.open(a,"","")}function get_modes(){return window.location.pathname.replace(/^\/+|\/+$/g,"").split("/")}function do_window_have_scroll_bar(){return $("body").height()>$(window).height()}function sprintf(){var a=arguments,b=a[0],c=1;return b.replace(/%((%)|s|d)/g,function(b){var d=null;if(b[2])d=b[2];else{switch(d=a[c],b){case"%d":d=parseFloat(d),isNaN(d)&&(d=0)}c++}return d})}function hexToRgb(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null}function run_movie(a,b,c,d,e,f){return print_flash_code(a,b,c,d,e,f)}function print_flash_code(a,b,c,d,e,f){return e||(e=""),document.write(get_flash_code(a,b,c,d,e,f)),!0}function get_flash_code(a,b,c,d,e,f){var g="";if(!f||"undefined"==typeof f)var f=a;return"undefined"!=typeof d&&d&&(g+=' wmode="'+d+'"'),"undefined"!=typeof e&&e&&(g+=' FlashVars="'+e+'"'),'<embed id="'+f+'" name="'+f+'" src="'+a+'" quality="high" scale="exactfit" type="application/x-shockwave-flash" width="'+b+'" height="'+c+'" menu="false" '+g+' bgcolor="#ffffff" allowScriptAccess="sameDomain" allowFullScreen="true" />\r\n'}function insert_flash_code(a,b,c,d,e,f,g){var h=_ge(a);h&&(f||(f=""),h.innerHTML=get_flash_code(b,c,d,e,f,g))}function getFlashObject(a,b){return b=b||window,navigator.appName.indexOf("Microsoft")!=-1?b[a]:b.document[a]}function getCssPropertyAr(a,b,c){var f,d=["-ms-","-moz-","-o-","-webkit-","-khtml-",""],e={},g="";for(f=0;f<d.length;f++)c?g+=d[f]+a+":"+b+";":e[d[f]+a]=b;return c?g:e}function getCaret(a){if(a.selectionStart)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange();if(null==b)return 0;var c=a.createTextRange(),d=c.duplicate();return c.moveToBookmark(b.getBookmark()),d.setEndPoint("EndToStart",c),d.text.length}return 0}function get_unique_id(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;!0;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}function hasGetUserMedia(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)}function isElementInViewport(a){"function"==typeof jQuery&&a instanceof jQuery&&(a=a[0]);var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)}function insertCss(a,b){b=b||{};var c=document.createElement("style");c.type="text/css",b.id&&(c.id=b.id),c.styleSheet?c.styleSheet.cssText=a:c.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(c)}var is_ie=!!document.all,agt=navigator.userAgent.toLowerCase(),is_major=parseInt(navigator.appVersion),is_minor=parseFloat(navigator.appVersion),is_gecko=agt.indexOf("gecko")!=-1,is_ie4up=agt.indexOf("msie")!=-1&&agt.indexOf("opera")==-1&&is_major>=4,is_opera=agt.indexOf("opera")!=-1,is_chrome=agt.toLowerCase().indexOf("chrome")>-1,is_safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,is_mobile=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/.test(agt),is_android=/android/.test(agt)&&!/opera|chrome|firefox|dolphin/.test(agt),is_ios=/iphone|ipad|ipod/.test(agt),is_ipad=null!=agt.match(/ipad/i),is_iphone=null!=agt.match(/iphone/i),is_phone=is_mobile&&!is_ipad;is_ie4up&&document.execCommand("BackgroundImageCache",!1,!0);for(var escape_trans=[],i=1040;i<=1103;i++)escape_trans[i]=i-848;escape_trans[1025]=168,escape_trans[1105]=184;var escapeOrig=window.escape;window.escape=function(a){for(var b=[],c=a.toString(),d=0;d<c.length;d++){var e=c.charCodeAt(d);"undefined"!=typeof escape_trans[e]&&(e=escape_trans[e]),e<=255&&b.push(e)}return escapeOrig(String.fromCharCode.apply(null,b)).replace("+","%2B")};for(var untrans=[],i=1103;i>=1040;i--)untrans[i-848]=i;untrans[168]=1025,untrans[184]=1105;var unescapeOrig=window.unescape;window.unescape=function(a){for(var a=unescapeOrig(a),b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);"undefined"!=typeof untrans[d]&&(d=untrans[d]),d<=untrans[255]&&b.push(d)}return String.fromCharCode.apply(null,b)};var disearch_endings_ar=["ть","ина","ин","ова","ева","ёва","ами","ыми","ими","оми","ой","ей","ай","ый","яй","ая","яя","яю","аю","ою","ое","ее","ие","ия","ые","их","ых","ах","ов","ев","ёв","ья","ье","ьё","ью","ам","ым","им","ом","че","ь","а","о","и","ы","е","э","я","ю","л"],disearch_min_word_length=3,diXMLRequest={get:function(a,b){var c=getHTTPRequestObject();c.open("GET",a,!0),c.onreadystatechange=function(){4==c.readyState&&b(c.responseXML)},c.send(null)},post:function(a,b,c){var d=getHTTPRequestObject();d.open("POST",a,!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(b),d.onreadystatechange=function(){4==d.readyState&&c(d.responseXML)}}},__correct_latin_symbols_regexp=new RegExp("^[a-z0-9-_.]+$","i"),__correct_digits_regexp=new RegExp("^[0-9.,]+$","i"),__correct_email_regexp=new RegExp("^[0-9a-z]([-_.]*[0-9a-z])*@[0-9a-z]([-._]*[0-9a-z])*[.]{1}[a-z]{2,4}$","i");Math.sqr=Math.sqr||function(a){return a*a},Math.hypot=Math.hypot||function(a,b){return Math.sqrt(a*a+b*b)},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}),String.prototype.toCamelCase=function(){return this.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})},String.prototype.toUnderscore=function(){return this.replace(/([A-Z])/g,function(a){return"_"+a.toLowerCase()})};